<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link type="text/css" media="all" href="/CDC/static/css/bootstrap.css" th:href="@{/static/css/bootstrap.css}"  rel="stylesheet"></link>
	<link type="text/css" media="all" href="/CDC/static/css/font-awesome.css" th:href="@{/static/css/font-awesome.css}" rel="stylesheet"></link>
    <script type="text/javascript" src="/CDC/static/js/yui.min.js" th:src="@{/static/js/yui.min.js}"></script>
    <script type="text/javascript" src="/CDC/static/js/jquery-2.2.1.min.js" th:src="@{/static/js/jquery-2.2.1.min.js}"></script>
</head>
<body >

<div>
 <form id="addform" action=""  >
   <label for="username"></label>
    <input type="text"  id="username" name="username" placeholder="USERNAME" required>
    <label for="password"></label>
    <input type="text"  id="password" name="password" placeholder="PASSWORD" required>
    <label for="role"></label>
    <input type="text"  id="role" name="role" placeholder="ROLE" required>
    
    <input type="submit" value="Add">
 </form>
</div>



<script th:inline="javascript">

$(document).ready(function() {
    $(document).on('submit', '#addform', function() {
    	var name = $('input#username').val();
    	var password = $('input#password').val();
    	var role = $('input#role').val();
    	var dataString = 'username='+ name + '&password=' + password + '&role=' + role;
    	$.ajax({
    	    type: "POST",
    	    url: "/CDC/views/adduser",
    	    data: {
    	    	"username":name,
    	    	"password":password,
    	    	"role":role
    	    },
    	    success: function() {
    	      alert(dataString);
    	      alert("Add New User Success");
    	    },
    	    error: function(xhr, textStatus, error){
    	    	console.log(dataString);
    	    	console.log(xhr.statusText);
    	    	console.log(textStatus);
    	    	console.log(error);
    	    }
    	  });
      return false;
     });
});

</script>

</body>
</html>